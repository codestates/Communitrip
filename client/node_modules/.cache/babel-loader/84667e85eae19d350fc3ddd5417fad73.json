{"ast":null,"code":"import _defineProperty from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;export var ModalContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display : flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: relative;\\n  margin: 5em;\\n\"])));export var Input=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nwidth: 80%;\\nheight:150%;\\nmin-height: 40px;\\n\"])));export var ModalBackdrop=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nposition: fixed;\\ndisplay: flex;\\njustify-content: center;\\nalign-items: center;\\nwidth: 100vw;\\nheight: 100vh;\\nbackground-color : none;\\n\"])));export var ModalBtn=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background-color: #4000c7;\\n  text-decoration: none;\\n  border: none;\\n  padding: 20px;\\n  color: white;\\n  border-radius: 30px;\\n  cursor: pointer;\\n\"])));export var ModalView=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\nbackground-color: white;\\nwidth: 40%;\\nmin-width: 300px;\\nmax-width: 600px;\\nheight: 80%;\\noverflow-y: auto;\\nborder:solid;\\nposition: fixed;\\nleft: 50%;\\ntop: 50%;\\npadding: 5px;\\ntransform: translate(-50%, -50%);\\nz-index: 1011;\\n\"])));export default function Login(_ref){var handleResponseSuccess=_ref.handleResponseSuccess;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var openModalHandler=function openModalHandler(){setIsOpen(!isOpen);};var navigate=useNavigate();var _useState3=useState({email:'',password:''}),_useState4=_slicedToArray(_useState3,2),loginInfo=_useState4[0],setLoginInfo=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var handleInputValue=function handleInputValue(key){return function(e){setLoginInfo(_objectSpread(_objectSpread({},loginInfo),{},_defineProperty({},key,e.target.value)));};};var handleLogin=function handleLogin(){if(loginInfo.email!==''&&loginInfo.password!==''){axios.post('http://localhost:8080/users/login',{email:loginInfo.email,password:loginInfo.password}).then(handleResponseSuccess);navigate('/');openModalHandler();}else{setErrorMessage('이메일과 비밀번호를 입력하세요');}};return/*#__PURE__*/_jsx(\"div\",{children:isOpen?/*#__PURE__*/_jsx(ModalBackdrop,{onClick:openModalHandler,children:/*#__PURE__*/_jsx(ModalView,{onClick:function onClick(event){event.stopPropagation();},children:/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB85C\\uADF8\\uC778 \\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uC774\\uBA54\\uC77C \\uC785\\uB825\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",onChange:handleInputValue('email')})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC785\\uB825\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",onChange:handleInputValue('password')})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ModalBtn,{className:\"close-btn\",onClick:handleLogin,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ModalBtn,{className:\"close-btn\",onClick:function onClick(){navigate('/signup');openModalHandler();},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-box\",children:errorMessage})]})]})})}):null});};","map":{"version":3,"names":["React","useState","axios","useNavigate","styled","defaults","withCredentials","ModalContainer","div","Input","input","ModalBackdrop","ModalBtn","button","ModalView","Login","handleResponseSuccess","isOpen","setIsOpen","openModalHandler","navigate","email","password","loginInfo","setLoginInfo","errorMessage","setErrorMessage","handleInputValue","key","e","target","value","handleLogin","post","then","event","stopPropagation","preventDefault"],"sources":["/Users/mj/Downloads/Communitrip/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'\nimport styled from 'styled-components';\naxios.defaults.withCredentials = true;\n\nexport const ModalContainer = styled.div`\n  display : flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  margin: 5em;\n`;\nexport const Input = styled.input`\nwidth: 80%;\nheight:150%;\nmin-height: 40px;\n`\nexport const ModalBackdrop = styled.div`\nposition: fixed;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nwidth: 100vw;\nheight: 100vh;\nbackground-color : none;\n`;\n\nexport const ModalBtn = styled.button`\n  background-color: #4000c7;\n  text-decoration: none;\n  border: none;\n  padding: 20px;\n  color: white;\n  border-radius: 30px;\n  cursor: pointer;\n`;\n\nexport const ModalView = styled.div`\nbackground-color: white;\nwidth: 40%;\nmin-width: 300px;\nmax-width: 600px;\nheight: 80%;\noverflow-y: auto;\nborder:solid;\nposition: fixed;\nleft: 50%;\ntop: 50%;\npadding: 5px;\ntransform: translate(-50%, -50%);\nz-index: 1011;\n`;\n\nexport default function Login ({ handleResponseSuccess }) {\n  const [isOpen, setIsOpen] = useState(true);\n\n  const openModalHandler = () => { \n    setIsOpen(!isOpen);\n  };\n\n  const navigate= useNavigate();\n  const [loginInfo, setLoginInfo] = useState({\n    email: '',\n    password: ''\n  });\n  const [errorMessage, setErrorMessage] = useState('');\n  const handleInputValue = (key) => (e) => {\n    setLoginInfo({ ...loginInfo, [key]: e.target.value });\n  };\n  const handleLogin = () => {\n    \n    if(loginInfo.email !=='' && loginInfo.password !== ''){\n      axios.post('http://localhost:8080/users/login',{\n        email: loginInfo.email,\n        password: loginInfo.password\n      }).then( handleResponseSuccess )\n      navigate('/')\n      openModalHandler();\n    }else{\n      setErrorMessage('이메일과 비밀번호를 입력하세요')\n    }\n  };\n  return (\n    <div>\n\n          {isOpen ? <ModalBackdrop onClick={openModalHandler}>\n                    <ModalView onClick={(event) => {event.stopPropagation()}}>  \n        <center>\n        <h1>로그인 하기</h1>\n        <br /><br />\n        <form onSubmit={(e) => e.preventDefault()}>\n          <div>\n            <div>이메일 입력</div>\n            <Input type='email' onChange={handleInputValue('email')} />\n          </div>\n          <br />\n          <div>\n            <div>비밀번호 입력</div>\n            <Input\n              type='password'\n              onChange={handleInputValue('password')}\n            />\n          </div>\n          <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\n          <ModalBtn  className=\"close-btn\" onClick={handleLogin}>\n            로그인\n          </ModalBtn>\n          <br /><br />\n          <div>\n          <ModalBtn  className=\"close-btn\" onClick={() => {navigate('/signup');openModalHandler()}} >\n            회원가입\n          </ModalBtn>\n          </div>\n          <div className='alert-box'>{errorMessage}</div>\n        </form>\n      </center>         \n                    </ModalView>\n                  </ModalBackdrop> : null} \n\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}