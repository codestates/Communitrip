{"ast":null,"code":"import _defineProperty from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router';import{Button}from\"react-bootstrap\";import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Editstyle=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nmargin: auto;\\nwidth:60%;\\nheight: 100%;\\nmargin-top: 5%;\\nbackground: #f5cd79;\\nborder: 1px solid black;\\nborder-radius: 20px;\\ntext-align: center;\\n\"])));export var Input=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nwidth:80%;\\nheight:60%;\\nmin-height:40px;\\n\"])));export var Emails=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nwidth:80%;\\nheight:60%;\\nmin-height:40px;\\nbackground-color: white;\\nborder:1px solid black;\\n\"])));export default function EditProfile(props){var _useState=useState({name:'',email:props.userinfo.email,password:'',newpassword:'',samepassword:''}),_useState2=_slicedToArray(_useState,2),editInfo=_useState2[0],setEditInfo=_useState2[1];var handleInputValue=function handleInputValue(key){return function(e){setEditInfo(_objectSpread(_objectSpread({},editInfo),{},_defineProperty({},key,e.target.value)));};};var navigate=useNavigate();var handleEdit=function handleEdit(){if(editInfo.name!==''&&editInfo.password!==''&&editInfo.newpassword!==''&&editInfo.samepassword!==''){axios.post('http://localhost:8080/users/editprofile',{name:editInfo.name,password:editInfo.newpassword,email:editInfo.email}).then(props.userinfo.name=editInfo.name,props.userinfo.password=editInfo.password);}navigate('/mypage');};//console.log(editInfo)\nreturn/*#__PURE__*/_jsx(Editstyle,{children:/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD68C\\uC6D0\\uC815\\uBCF4 \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\uC774\\uB984 : \"}),/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:handleInputValue('name')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"e-mail : \"}),/*#__PURE__*/_jsx(Emails,{children:props.userinfo.email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"\\uD604\\uC7AC \\uBE44\\uBC00\\uBC88\\uD638 : \"}),/*#__PURE__*/_jsx(Input,{type:\"password\",onChange:handleInputValue('password')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC218\\uC815 : \"}),\" \",/*#__PURE__*/_jsx(Input,{type:\"password\",onChange:handleInputValue('newpassword')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC218\\uC815\\uD655\\uC778 : \"}),\"  \",/*#__PURE__*/_jsx(Input,{type:\"password\",onChange:handleInputValue('samepassword')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",className:\"edit-button\",onClick:handleEdit,children:\"\\uD68C\\uC6D0\\uC815\\uBCF4 \\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})});}","map":{"version":3,"names":["React","useState","axios","useNavigate","Button","styled","Editstyle","div","Input","input","Emails","EditProfile","props","name","email","userinfo","password","newpassword","samepassword","editInfo","setEditInfo","handleInputValue","key","e","target","value","navigate","handleEdit","post","then"],"sources":["/Users/mj/Downloads/Communitrip/client/src/pages/Edit_profile.js"],"sourcesContent":["import React,{useState} from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router';\nimport { Button } from \"react-bootstrap\";\nimport styled from 'styled-components';\n\nexport const Editstyle=styled.div`\nmargin: auto;\nwidth:60%;\nheight: 100%;\nmargin-top: 5%;\nbackground: #f5cd79;\nborder: 1px solid black;\nborder-radius: 20px;\ntext-align: center;\n`\nexport const Input = styled.input`\nwidth:80%;\nheight:60%;\nmin-height:40px;\n`\nexport const Emails = styled.div`\nwidth:80%;\nheight:60%;\nmin-height:40px;\nbackground-color: white;\nborder:1px solid black;\n`\nexport default function EditProfile(props) {\n  const [editInfo, setEditInfo] = useState({\n    name: '',\n    email: props.userinfo.email,\n    password: '',\n    newpassword:'',\n    samepassword:''\n  });\n  const handleInputValue = (key) => (e) => {\n    setEditInfo({ ...editInfo, [key]: e.target.value });\n  };\n  const navigate= useNavigate();\n  const handleEdit = () => {\n    \n    if(editInfo.name !=='' && editInfo.password !== '' && editInfo.newpassword !== '' && editInfo.samepassword !==''){\n      axios.post('http://localhost:8080/users/editprofile',{\n        name: editInfo.name,\n        password: editInfo.newpassword,\n        email: editInfo.email,\n      }).then(props.userinfo.name = editInfo.name,props.userinfo.password = editInfo.password)   \n    }\n    navigate('/mypage')\n  };\n  //console.log(editInfo)\n  return (\n    <Editstyle>\n      <center>\n        <h3>회원정보 수정</h3>\n        \n        <div>이름 : </div><Input type=\"text\" onChange={handleInputValue('name')} />\n        <br /><br />\n        <div>e-mail : </div><Emails>\n           {props.userinfo.email}\n        </Emails>\n        <br />\n        \n        <div>현재 비밀번호 : </div><Input type=\"password\" onChange={handleInputValue('password')} />\n        \n        <br /><br />\n        \n        <div>비밀번호 수정 : </div> <Input type=\"password\" onChange={handleInputValue('newpassword')} />\n        \n        <br /><br />\n        \n        <div>비밀번호 수정확인 : </div>  <Input type=\"password\" onChange={handleInputValue('samepassword')} />\n        \n        <br /><br /><br /><br />\n        <div>\n        <Button variant=\"outline-primary\" className='edit-button' onClick={handleEdit} >\n          회원정보 수정하기\n        </Button>\n        <br /><br /><br />\n        </div>\n      </center>\n    </Editstyle>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}