{"ast":null,"code":"import _slicedToArray from\"/Users/mj/Downloads/Communitrip/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./App.css';import{Navbar,Container,Nav}from\"react-bootstrap\";import{Routes,Route,useNavigate}from'react-router-dom';import Login from'./pages/Login';import Edit_profile from'./pages/Edit_profile';import Mypage from'./pages/Mypage';import Main from\"./pages/Main\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var navigate=useNavigate();var _useState=useState({name:'',email:''}),_useState2=_slicedToArray(_useState,2),userinfo=_useState2[0],setUserinfo=_useState2[1];console.log(userinfo);var isAuthenticated=function isAuthenticated(){axios.get('http://localhost:8080/users/auth').then(function(res){if(res.data.data.userInfo!==null){var _res$data$data$userIn=res.data.data.userInfo,name=_res$data$data$userIn.name,email=_res$data$data$userIn.email,password=_res$data$data$userIn.password;setUserinfo({name:name,email:email,password:password});setIsLogin(true);}}).catch(function(error){console.log(error);});};var handleResponseSuccess=function handleResponseSuccess(){isAuthenticated();};var handleLogout=function handleLogout(){axios.post('http://localhost:8080/users/logout').then(function(res){setUserinfo(null);setIsLogin(false);navigate('/');});};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLogin=_useState4[0],setIsLogin=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),onLoginModal=_useState6[0],setOnLoginModal=_useState6[1];var onLoginModalHandler=function onLoginModalHandler(){setOnLoginModal(!onLoginModal);};useEffect(function(){isAuthenticated();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{bg:\"light\",variant:\"light\",className:\"nav\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:\"Logo\"}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",class:\"nav justify-content-end\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",onClick:function onClick(){navigate('/');},children:\"\\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"myboard\",onClick:function onClick(){/*navigate(\"/mypage\");*/},children:\"\\uB098\\uC758\\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"mypage\",onClick:function onClick(){navigate(\"/mypage\");},children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsxs(Nav.Link,{onClick:function onClick(){onLoginModalHandler();},children:[\"Login\",onLoginModal?/*#__PURE__*/_jsx(Login,{}):null]})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Main,{}),userinfo:userinfo}),/*#__PURE__*/_jsx(Route,{path:\"/mypage\",element:/*#__PURE__*/_jsx(Mypage,{userinfo:userinfo,handleLogout:handleLogout})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{handleResponseSuccess:handleResponseSuccess})}),/*#__PURE__*/_jsx(Route,{path:\"/edit_profile\",element:/*#__PURE__*/_jsx(Edit_profile,{userinfo:userinfo})})]})]});}export default App;/*Nav.Link\nhref=\"my-Wise-saying\"\nonClick={() => {\n  navigate(\"/my-Wise-saying\");\n}}\n>\nMyboard\n</Nav.Link>*/","map":{"version":3,"names":["React","useEffect","useState","Navbar","Container","Nav","Routes","Route","useNavigate","Login","Edit_profile","Mypage","Main","axios","App","navigate","name","email","userinfo","setUserinfo","console","log","isAuthenticated","get","then","res","data","userInfo","password","setIsLogin","catch","error","handleResponseSuccess","handleLogout","post","isLogin","onLoginModal","setOnLoginModal","onLoginModalHandler"],"sources":["/Users/mj/Downloads/Communitrip/client/src/App.js"],"sourcesContent":["import React,{ useEffect, useState } from 'react';\nimport './App.css';\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Edit_profile from './pages/Edit_profile'\nimport Mypage from './pages/Mypage';\nimport Main from \"./pages/Main\";\nimport axios from 'axios';\n\nfunction App() {\n    const navigate = useNavigate();\n    const [userinfo, setUserinfo] = useState({\n      name: '',\n      email:''\n    });\n    console.log(userinfo)\n    const isAuthenticated = () => {\n      axios.get('http://localhost:8080/users/auth').then((res) =>{\n        \n        if(res.data.data.userInfo !==null){\n          const {name,email,password}= res.data.data.userInfo;\n          setUserinfo({name,email,password});\n          setIsLogin(true);\n        }\n        \n      }).catch( error => {\n        console.log(error);\n      })\n    };\n    const handleResponseSuccess = () => {\n      isAuthenticated();\n    };\n    const handleLogout =() =>{\n      axios.post('http://localhost:8080/users/logout').then((res)=>{\n        setUserinfo(null);\n        setIsLogin(false);\n        navigate('/')\n      })\n    }\n    const [isLogin, setIsLogin] = useState(false);\n    const [onLoginModal, setOnLoginModal]=useState(false)\n    const onLoginModalHandler =() =>{\n      setOnLoginModal(!onLoginModal);\n    }\n  \n    useEffect(() => {\n      isAuthenticated();\n    }, []);\n\n    return (\n        <div className=\"App\">\n        <Navbar  bg=\"light\" variant=\"light\" className=\"nav\">\n          <Container>\n            <Navbar.Brand href=\"/\">Logo</Navbar.Brand>\n            <Nav className=\"me-auto\" class='nav justify-content-end' >\n              <Nav.Link \n                href=\"/\"\n                onClick={() => {\n                  navigate('/');\n                }}\n              >\n                게시판\n              </Nav.Link>\n              <Nav.Link \n                href=\"myboard\"\n                onClick={() => {\n                  /*navigate(\"/mypage\");*/\n                }}\n              >\n                나의게시판\n              </Nav.Link>\n              <Nav.Link \n                href=\"mypage\"\n                onClick={() => {\n                  navigate(\"/mypage\");\n                }}\n              >\n                마이페이지\n              </Nav.Link>\n              \n              <Nav.Link \n                onClick={() => {\n                 onLoginModalHandler()\n                }}\n              >\n                Login\n                {onLoginModal ? <Login /> :null}\n              </Nav.Link>\n            </Nav>\n          </Container>\n        </Navbar>\n        <br />        \n<Routes>\n    <Route path=\"/\" element={<Main />} userinfo = {userinfo} />\n    <Route path=\"/mypage\" element={<Mypage userinfo ={userinfo} handleLogout={handleLogout} />} />\n    <Route path=\"/login\" element={<Login handleResponseSuccess={handleResponseSuccess}/>} />\n    <Route path=\"/edit_profile\" element={<Edit_profile userinfo={userinfo} />} />\n</Routes>\n</div>\n    )\n}\n\nexport default App;\n/*Nav.Link\nhref=\"my-Wise-saying\"\nonClick={() => {\n  navigate(\"/my-Wise-saying\");\n}}\n>\nMyboard\n</Nav.Link>*/\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}